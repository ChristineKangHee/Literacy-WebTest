<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê¸€ë‘ ë¬¸í•´ë ¥ ìœ í˜• í…ŒìŠ¤íŠ¸</title>
  <style>
    :root{--bg:#faf9ff;--card:#ffffff;--ink:#1f2340;--sub:#6a6f8b;--brand:#6c63ff;--ok:#00b894;--warn:#ffb703;--bad:#ef476f}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,Pretendard,sans-serif}
    .wrap{max-width:860px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;gap:10px;margin:10px 0 18px}
    header .logo{width:36px;height:36px;border-radius:10px;background:var(--brand);display:grid;place-items:center;color:#fff;font-weight:800}
    h1{font-size:22px;margin:0}
    .card{background:var(--card);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:20px}
    .intro h2{margin-top:0}
    .meta{color:var(--sub);font-size:14px}
    .btn{appearance:none;border:0;border-radius:12px;padding:14px 16px;background:var(--brand);color:#fff;font-weight:700;cursor:pointer}
    .btn.secondary{background:#e9e8ff;color:#3f3aeb}
    .btn.ghost{background:transparent;border:2px solid var(--brand);color:var(--brand)}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .space{height:12px}
    .progress{height:10px;background:#ececff;border-radius:999px;overflow:hidden}
    .bar{height:100%;width:0;background:linear-gradient(90deg,#6c63ff,#9a93ff)}
    .q-title{font-size:18px;font-weight:700}
    .choices{display:grid;gap:10px;margin-top:14px}
    .choice{display:flex;align-items:flex-start;gap:10px;border:2px solid #ececff;border-radius:12px;padding:12px;cursor:pointer;transition:all .15s}
    .choice:hover{border-color:#d7d6ff;background:#fbfbff}
    .choice input{margin-top:4px}
    .pill{display:inline-block;border-radius:999px;padding:4px 10px;background:#eef0ff;color:#3f3aeb;font-size:12px;font-weight:700;margin-left:6px}
    .result{display:grid;gap:14px}
    .result .hero{display:flex;gap:16px;align-items:center}
    .char{width:88px;height:88px;border-radius:18px;background:#fff;display:grid;place-items:center;border:2px dashed #e6e6ff}
    .kpi{display:grid;gap:8px}
    .kpi-row{display:grid;grid-template-columns:120px 1fr;gap:10px;align-items:center}
    .kpi .progress{height:8px}
    footer{margin:28px 0 10px;color:var(--sub);font-size:12px;text-align:center}
    .note{font-size:12px;color:var(--sub)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">G</div>
      <div>
        <h1>ë¬¸í•´ë ¥ ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
        <div class="meta">8ë¬¸í•­ Â· OX & 4ì§€ì„ ë‹¤ Â· 1ë¶„ì»·</div>
      </div>
    </header>

    <main class="card" id="app">
      <!-- Content renders here -->
    </main>
    <footer>Â© GLANG Â· Literacy mini test for promo</footer>
  </div>

<script>
// ====== ë°ì´í„° ì •ì˜ ======
const QUESTIONS = [
  {
    id: 1,
    area: 'ì–´íœ˜',
    type: 'OX',
    text: "â€˜ì‚¬í˜ ë’¤â€™ëŠ” ì˜¤ëŠ˜ì´ 1ì¼ì´ë¼ë©´ 3ì¼ì´ë‹¤.",
    options: ['O','X'],
    answer: 0, // O
    weights: { VOCAB: 1, FOCUS: 0.2 }
  },
  {
    id: 2,
    area: 'ì–´íœ˜',
    type: '4ì§€ì„ ë‹¤',
    text: "â€˜ê¸ˆì¼â€™ì˜ ì˜ë¯¸ë¡œ ì•Œë§ì€ ê²ƒì€?",
    options: ['ì˜¤ëŠ˜','ë‚´ì¼','ì´ë²ˆ ì£¼','ìš”ì¦˜'],
    answer: 0,
    weights: { VOCAB: 1 }
  },
  {
    id: 3,
    area: 'ë…í•´',
    type: '4ì§€ì„ ë‹¤',
    text: "ì•„ë˜ ê¸€ì„ ì½ê³  í•µì‹¬ì„ ê³ ë¥´ì„¸ìš”.\nâ€˜ì–´ë–¤ ì‚¬ëŒì€ ì§§ì€ ê¸€ì€ ì˜ ì´í•´í•˜ì§€ë§Œ ê¸´ ê¸€ì—ì„œëŠ” í•µì‹¬ì„ ë†“ì¹œë‹¤. ì´ëŸ° ê²½ìš° ê¾¸ì¤€íˆ ìš”ì•½ í›ˆë ¨ì„ í•˜ëŠ” ê²ƒì´ ë„ì›€ì´ ëœë‹¤.â€™",
    options: ['ê¸´ ê¸€ì€ ì½ì§€ ë§ì','ìš”ì•½ í›ˆë ¨ì´ í•„ìš”í•˜ë‹¤','ëª¨ë“  ê¸€ì„ ë˜‘ê°™ì´ ì½ì–´ì•¼ í•œë‹¤','ì§§ì€ ê¸€ì€ ì‰¬ìš´ ê¸€ì´ë‹¤'],
    answer: 1,
    weights: { COMPREH: 1, LOGIC: 0.3 }
  },
  {
    id: 4,
    area: 'ë…í•´',
    type: 'OX',
    text: "â€˜ë°°ê°€ ê³ íŒŒì„œ ë°¥ì„ ë¨¹ì—ˆë‹¤â€™ì—ì„œ ì›ì¸ì€ â€˜ë°°ê°€ ê³ íŒŒì„œâ€™ì´ê³  ê²°ê³¼ëŠ” â€˜ë°¥ì„ ë¨¹ì—ˆë‹¤â€™ì´ë‹¤.",
    options: ['O','X'],
    answer: 0,
    weights: { COMPREH: 1 }
  },
  {
    id: 5,
    area: 'ë¬¸ë²•',
    type: '4ì§€ì„ ë‹¤',
    text: "ë‹¤ìŒ ì¤‘ ë§ëŠ” í‘œê¸°ëŠ”?",
    options: ['í•  ìˆ˜ ìˆë‹¤','í• ìˆ˜ìˆë‹¤','í• ìˆ˜ ìˆë‹¤','í•  ìˆ˜ìˆë‹¤'],
    answer: 0,
    weights: { GRAMMAR: 1, EXPRESSION: 0.3 }
  },
  {
    id: 6,
    area: 'ë¬¸ë²•',
    type: 'OX',
    text: "â€˜ë¨¹ì„ê»˜â€™ê°€ ë§ëŠ” í‘œí˜„ì´ë‹¤.",
    options: ['O','X'],
    answer: 1, // X
    weights: { GRAMMAR: 1 }
  },
  {
    id: 7,
    area: 'ë…¼ë¦¬',
    type: '4ì§€ì„ ë‹¤',
    text: "â€˜ëª¨ë“  ìƒˆëŠ” ë‚  ìˆ˜ ìˆë‹¤. í­ê·„ì€ ìƒˆë‹¤. ë”°ë¼ì„œ í­ê·„ì€ ë‚  ìˆ˜ ìˆë‹¤.â€™ì˜ ë¬¸ì œì ì€?",
    options: ['ì‚¬ì‹¤ê³¼ ì˜ê²¬ì´ ì„ì˜€ë‹¤','ì „ì œê°€ ì˜ëª»ëë‹¤','ë…¼ë¦¬ì ìœ¼ë¡œ ì™„ë²½í•˜ë‹¤','ê²°ë¡ ì´ ì ì ˆí•˜ë‹¤'],
    answer: 1,
    weights: { LOGIC: 1 }
  },
  {
    id: 8,
    area: 'ì¢…í•©',
    type: '4ì§€ì„ ë‹¤',
    text: "ë‹¤ìŒ ì¤‘ ë¬¸í•´ë ¥ì˜ ì •ì˜ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?",
    options: ['ê¸€ì„ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥','ì½ê³  ì´í•´Â·ë¹„íŒÂ·í‘œí˜„í•˜ëŠ” ì¢…í•© ëŠ¥ë ¥','ê¸€ìë¥¼ ë§ì´ ì•„ëŠ” ëŠ¥ë ¥','ê¸´ ê¸€ì„ ëê¹Œì§€ ì½ëŠ” ëˆê¸°'],
    answer: 1,
    weights: { LOGIC: 0.7, COMPREH: 0.3 }
  }
];

// ê²°ê³¼ ìœ í˜• ì •ì˜ (6ìœ í˜•)
const TYPES = {
  VOCAB: { name: 'ì–´íœ˜ ë¶€ë°”', color: '#ffcf33', desc: 'ë‹¨ì–´ ì˜ë¯¸ì™€ ì–´ë²•ì— ê°•í•œ íƒ€ì…. ë‚¯ì„  í‘œí˜„ë„ ë¹ ë¥´ê²Œ ìºì¹˜!', img: ''},
  COMPREH: { name: 'ë…í•´ ë¶€ë°”', color: '#6dd3ff', desc: 'ë¬¸ì¥ì˜ íë¦„ê³¼ í•µì‹¬ì„ íŒŒì•…í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ íƒ€ì….', img: ''},
  GRAMMAR: { name: 'ë¬¸ë²• ë¶€ë°”', color: '#b8e986', desc: 'ë§ì¶¤ë²•Â·ë„ì–´ì“°ê¸° ë“± ê·œë²”ì— ê°•í•œ ì •í™•ì„± í”Œë ˆì´ì–´.', img: ''},
  LOGIC: { name: 'ë…¼ë¦¬ ë¶€ë°”', color: '#a78bfa', desc: 'ê·¼ê±°ë¥¼ ì„¸ì›Œ íŒë‹¨í•˜ê³  ì˜¤ë¥˜ë¥¼ ì°¾ì•„ë‚´ëŠ” ë¹„íŒì  ë…ì.', img: ''},
  EXPRESSION: { name: 'í‘œí˜„ ë¶€ë°”', color: '#ff9ecd', desc: 'í’ë¶€í•œ í‘œí˜„ê³¼ êµ¬ì„±ìœ¼ë¡œ ì„¤ë“ë ¥ ìˆê²Œ ë§í•˜ê³  ì“°ëŠ” íƒ€ì….', img: ''},
  FOCUS: { name: 'ì§‘ì¤‘ ë¶€ë°”', color: '#ffad5a', desc: 'ëª°ì…í•´ì„œ ëê¹Œì§€ ì½ì–´ë‚´ëŠ” ëˆê¸°ì™€ í˜ì´ìŠ¤ ìœ ì§€ê°€ ê°•ì .', img: ''}
};

// ====== ìƒíƒœ ======
let state = { step: 'intro', index: 0, answers: Array(QUESTIONS.length).fill(null) };

const $app = document.getElementById('app');

function render(){
  if(state.step==='intro') return renderIntro();
  if(state.step==='quiz') return renderQuiz();
  if(state.step==='result') return renderResult();
}

function renderIntro(){
  $app.innerHTML = `
    <section class="intro">
      <h2>8ë¬¸í•­ìœ¼ë¡œ í™•ì¸í•˜ëŠ” ë‚˜ì˜ ë¬¸í•´ë ¥</h2>
      <p class="meta">OXì™€ 4ì§€ì„ ë‹¤ë¡œ ì–´íœ˜Â·ë…í•´Â·ë¬¸ë²•Â·ë…¼ë¦¬ë¥¼ ê°€ë³ê²Œ ì ê²€í•©ë‹ˆë‹¤.</p>
      <div class="space"></div>
      <button class="btn" onclick="startQuiz()">ì‹œì‘í•˜ê¸°</button>
      <div class="space"></div>
      <p class="note">Tip. ê²°ê³¼ëŠ” 6ê°€ì§€ ìºë¦­í„°(ì–´íœ˜/ë…í•´/ë¬¸ë²•/ë…¼ë¦¬/í‘œí˜„/ì§‘ì¤‘) ì¤‘ í•˜ë‚˜ë¡œ ì œê³µë©ë‹ˆë‹¤.</p>
    </section>
  `;
}

function startQuiz(){
  state.step='quiz';
  state.index=0; state.answers=Array(QUESTIONS.length).fill(null);
  render();
}

function renderQuiz(){
  const q = QUESTIONS[state.index];
  const total = QUESTIONS.length;
  const progress = ((state.index)/total)*100;
  const selected = state.answers[state.index];
  $app.innerHTML = `
    <div class="meta">ë¬¸í•­ ${state.index+1} / ${total} Â· ${q.area} Â· ${q.type}</div>
    <div class="progress" aria-label="ì§„í–‰ë¥ "><div class="bar" style="width:${progress}%"></div></div>
    <div class="space"></div>
    <div class="q-title">${escapeHTML(q.text).replace(/\n/g,'<br>')}</div>
    <div class="choices" role="group" aria-label="ì„ íƒì§€">
      ${q.options.map((opt,i)=>`
        <label class="choice">
          <input type="radio" name="q${q.id}" ${selected===i?'checked':''} onchange="choose(${i})" />
          <div><div>${escapeHTML(opt)}</div></div>
        </label>
      `).join('')}
    </div>
    <div class="space"></div>
    <div class="row">
      <button class="btn secondary" ${state.index===0?'disabled':''} onclick="prev()">ì´ì „</button>
      <button class="btn" ${selected==null?'disabled':''} onclick="next()">${state.index===total-1?'ê²°ê³¼ë³´ê¸°':'ë‹¤ìŒ'}</button>
    </div>
  `;
}

function choose(i){
  state.answers[state.index]=i; render();
}
function prev(){ state.index=Math.max(0,state.index-1); render(); }
function next(){
  if(state.index===QUESTIONS.length-1){
    state.step='result';
    render();
  } else { state.index++; render(); }
}

function scoreDetail(){
  // ì˜ì—­ë³„ ê°€ì¤‘ì¹˜ í•©ì‚° (ì •ë‹µë§Œ ë°˜ì˜)
  const buckets = { VOCAB:0, COMPREH:0, GRAMMAR:0, LOGIC:0, EXPRESSION:0, FOCUS:0 };
  const correctFlags = [];
  QUESTIONS.forEach((q,idx)=>{
    const ok = state.answers[idx]===q.answer;
    correctFlags[idx]=ok;
    if(ok){
      for(const k in q.weights){ buckets[k]+=q.weights[k]; }
    }
  });
  const totalScore = correctFlags.filter(Boolean).length;
  return { buckets, totalScore, correctFlags };
}

function pickType(detail){
  // ìµœëŒ“ê°’ ìœ í˜• ì„ íƒ, ë™ì  ì‹œ ìš°ì„ ìˆœìœ„: COMPREH > VOCAB > GRAMMAR > LOGIC > EXPRESSION > FOCUS
  const order = ['COMPREH','VOCAB','GRAMMAR','LOGIC','EXPRESSION','FOCUS'];
  let winner = 'FOCUS', best = -1;
  for(const k of order){
    const v = detail.buckets[k];
    if(v>best){ best=v; winner=k; }
  }
  // ë§¤ìš° ë†’ì€ ì´ì ì´ë©´ ë…¼ë¦¬ ë¶€ë°” ë³´ì •
  if(detail.totalScore>=7){ winner='LOGIC'; }
  return winner;
}

function renderResult(){
  const detail = scoreDetail();
  const winnerKey = pickType(detail);
  const t = TYPES[winnerKey];

  // ì˜ì—­ë³„ ì§„í–‰ë°” ë°ì´í„°
  const pretty = [
    ['ì–´íœ˜', detail.buckets.VOCAB],
    ['ë…í•´', detail.buckets.COMPREH],
    ['ë¬¸ë²•', detail.buckets.GRAMMAR],
    ['ë…¼ë¦¬', detail.buckets.LOGIC],
    ['í‘œí˜„', detail.buckets.EXPRESSION],
    ['ì§‘ì¤‘', detail.buckets.FOCUS],
  ];
  const maxBar = Math.max(...pretty.map(p=>p[1]), 1);

  $app.innerHTML = `
    <section class="result">
      <div class="hero">
        <div class="char" style="border-color:${t.color}">ğŸ§©</div>
        <div>
          <div class="pill" style="background:${t.color}22;color:${t.color}">ë‹¹ì‹ ì˜ ìºë¦­í„°</div>
          <h2 style="margin:.2rem 0 0">${t.name}</h2>
          <p class="meta" style="margin:.35rem 0 0">ì´ì  ${detail.totalScore} / ${QUESTIONS.length}</p>
        </div>
      </div>
      <p style="margin:8px 0 0">${t.desc}</p>

      <div class="space"></div>
      <h3 style="margin:0">ì˜ì—­ë³„ í”„ë¡œíŒŒì¼</h3>
      <div class="kpi">
        ${pretty.map(([label,val])=>{
          const pct = Math.round((val/maxBar)*100);
          return `<div class=\"kpi-row\"><div class=\"meta\">${label}</div><div class=\"progress\"><div class=\"bar\" style=\"width:${pct}%;background:${t.color}\"></div></div></div>`
        }).join('')}
      </div>

      <div class="space"></div>
      <div class="row">
        <button class="btn" onclick="shareResult('${t.name}', ${detail.totalScore})">ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
        <button class="btn ghost" onclick="startQuiz()">ë‹¤ì‹œ í’€ê¸°</button>
      </div>

      <div class="space"></div>
      <a class="btn secondary" href="#" onclick="alert('ì•± ì²´í—˜ ë§í¬ë¥¼ ì—°ê²°í•˜ì„¸ìš”!');return false;">ğŸ‘‰ ê¸€ë‘ ì•±ì—ì„œ ì‹¬í™” í…ŒìŠ¤íŠ¸</a>

      <div class="space"></div>
      <details>
        <summary>ì •ë‹µ í•´ì„¤ ë³´ê¸°</summary>
        <ol>
          ${QUESTIONS.map((q,i)=>`<li><strong>Q${i+1}</strong> ì •ë‹µ: ${q.options[q.answer]}</li>`).join('')}
        </ol>
      </details>
    </section>
  `;
}

function shareResult(name, score){
  const text = `ë‚˜ëŠ” ${name}! (ì´ì  ${score}/${QUESTIONS.length}) â€” ê¸€ë‘ ë¬¸í•´ë ¥ ë¯¸ë‹ˆ í…ŒìŠ¤íŠ¸`;
  const url = location.href;
  if(navigator.share){ navigator.share({title: 'ê¸€ë‘ ë¬¸í•´ë ¥ í…ŒìŠ¤íŠ¸', text, url}).catch(()=>{}); }
  else { navigator.clipboard.writeText(`${text} ${url}`).then(()=>alert('ê²°ê³¼ ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆì–´ìš”!')); }
}

function escapeHTML(s){ return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c])); }

render();
</script>
</body>
</html>